# -*- coding: utf-8 -*-
"""student_depression_dataset_analysis.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1fJLTqiWw69-upHZQBxBEWCMz6u4LpkAL

# **Ã–ÄŸrenci Depresyon Veri Seti: Ã–ÄŸrenciler ArasÄ±nda Ruh SaÄŸlÄ±ÄŸÄ± EÄŸilimlerinin ve Ã–ngÃ¶rÃ¼cÃ¼lerinin Analizi**

# Genel BakÄ±ÅŸ:
Bu veri seti Ã¶ÄŸrenciler arasÄ±ndaki depresyon seviyelerini anlamayÄ±, analiz etmeyi ve tahmin etmeyi amaÃ§layan geniÅŸ bir bilgi yelpazesini derlemektedir.

Psikoloji, veri bilimi ve eÄŸitim alanlarÄ±ndaki araÅŸtÄ±rmalar iÃ§in tasarlanmÄ±ÅŸtÄ±r ve Ã¶ÄŸrencilerin ruh saÄŸlÄ±ÄŸÄ± sorunlarÄ±na katkÄ±da bulunan faktÃ¶rler hakkÄ±nda iÃ§gÃ¶rÃ¼ saÄŸlar ve erken mÃ¼dahale stratejilerinin tasarlanmasÄ±na yardÄ±mcÄ± olur.

# Veri Setinin AÃ§Ä±klanmasÄ±:

- Format: CSV (her satÄ±r tek bir Ã¶ÄŸrenciyi temsil etmektedir.)
- ID: Her Ã¶ÄŸrenci iÃ§in benzersiz tanÄ±mlayÄ±cÄ±
- Demografik Bilgiler: YaÅŸ, Cinsiyet, Åehir
- Akademik GÃ¶stergeler: CGPA, Akademik BaskÄ±, Ã‡alÄ±ÅŸma TarzÄ±
- YaÅŸam TarzÄ± ve Refah: Uyku SÃ¼resi, Beslenme AlÄ±ÅŸkanlÄ±klarÄ±, Ä°ÅŸ BaskÄ±sÄ±, Ä°ÅŸ Tatmini, Ã‡alÄ±ÅŸma/Ã‡alÄ±ÅŸma Saatleri
- Ek FaktÃ¶rler: Meslek, Derece, Finansal Stres, Ailede Ruhsal HastalÄ±k GeÃ§miÅŸi ve Ã–ÄŸrencinin Daha Ã–nce Ä°ntihar DÃ¼ÅŸÃ¼ncesi Olup OlmadÄ±ÄŸÄ±

# Hedef DeÄŸiÅŸken:
- Depression_Status: Bir Ã¶ÄŸrencinin depresyon yaÅŸayÄ±p yaÅŸamadÄ±ÄŸÄ±nÄ± gÃ¶steren ikili gÃ¶sterge (0/1 veya Evet/HayÄ±r)

# 1. AdÄ±m: Veri Setinin YÃ¼klenmesi ve Ä°lk Ä°nceleme

Bu adÄ±mda gerekli Python kÃ¼tÃ¼phaneleri yÃ¼klÃ¼yoruz ve veri setine genel bir bakÄ±ÅŸ yapÄ±yoruz.
"""

# Commented out IPython magic to ensure Python compatibility.
# Gerekli kÃ¼tÃ¼phanelerin yÃ¼klenmesi.
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import re
import scipy.stats as stats
from sklearn.model_selection import train_test_split, cross_val_score
from sklearn.preprocessing import LabelEncoder, StandardScaler
from sklearn.linear_model import LogisticRegression
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import confusion_matrix, classification_report, roc_curve, auc, accuracy_score
import plotly.express as px
import warnings

# TÃ¼m uyarÄ±larÄ± gÃ¶rmezden gelmek iÃ§in kullanÄ±lÄ±r. Kodun Ã§Ä±ktÄ±sÄ±nÄ± daha temiz hale getirir.
warnings.filterwarnings('ignore')

#Seaborn grafiklerinin stilini ayarlar.
sns.set(style="whitegrid")
# %matplotlib inline

"""- pandas: Veri manipÃ¼lasyonu ve analizi iÃ§in.
- numpy: SayÄ±sal iÅŸlemler iÃ§in.
- matplotlib.pyplot: Temel veri gÃ¶rselleÅŸtirme iÃ§in.
- seaborn: Ä°statistiksel veri gÃ¶rselleÅŸtirme iÃ§in.
- re: DÃ¼zenli ifadeler (regular expressions) iÃ§in.
- scipy.stats: Ä°statistiksel testler iÃ§in.
- sklearn.model_selection: Makine Ã¶ÄŸrenimi modellerini eÄŸitmek ve deÄŸerlendirmek iÃ§in.
- sklearn.preprocessing: Veri Ã¶niÅŸleme iÃ§in.
- sklearn.linear_model: Lojistik regresyon modeli iÃ§in.
- sklearn.ensemble: Rastgele orman (Random Forest) modeli iÃ§in.
- sklearn.metrics: Model performansÄ±nÄ± deÄŸerlendirmek iÃ§in.
- plotly.express: EtkileÅŸimli gÃ¶rselleÅŸtirmeler iÃ§in.
- warnings: UyarÄ±larÄ± yÃ¶netmek iÃ§in.
"""

# CSV dosyasÄ±nÄ± bir Pandas DataFrame'ine atama.
df = pd.read_csv("/content/student_depression_dataset.csv")

# DataFrame'in ilk 5 satÄ±rÄ±nÄ± yazdÄ±rÄ±r. Veri setinin iÃ§eriÄŸine hÄ±zlÄ±ca gÃ¶z atmayÄ± saÄŸlar.
print("ğŸ”¹ Ä°lk 5 satÄ±r:")
df.head()

# Veri yapÄ±sÄ±nÄ± ve eksik deÄŸerleri kontrol et
print("\nğŸ”¹ Veri Seti Ã–zeti:")

from prettytable import PrettyTable

# Veri setindeki her sÃ¼tunun adÄ±nÄ±, kaÃ§ tane boÅŸ olmayan deÄŸer iÃ§erdiÄŸini ve veri tipini yazdÄ±rÄ±r. Bu iÅŸlem veri setinin genel yapÄ±sÄ±nÄ± anlamak iÃ§in Ã¶nemlidir.
def pretty_info(df):
    table = PrettyTable()
    table.field_names = ["Column", "Non-Null Count", "Dtype"]

    for col in df.columns:
        non_null_count = df[col].count()
        dtype = df[col].dtype
        table.add_row([col, non_null_count, dtype])

    print(table)

pretty_info(df)

# DataFrame'in boyutlarÄ±nÄ± (satÄ±r ve sÃ¼tun sayÄ±sÄ±nÄ±) yazdÄ±rÄ±r.
print("\nğŸ”¹ Veri Seti Boyutu:")
df.shape

# DataFrame'deki sayÄ±sal sÃ¼tunlarÄ±n temel istatistiklerini (ortalama, standart sapma, min, max, vb.) ve kategorik sÃ¼tunlarÄ±n frekans bilgilerini yazdÄ±rÄ±r.
# Bu iÅŸlem veri setinin daÄŸÄ±lÄ±mÄ± ve Ã¶zetlenmesi iÃ§in kullanÄ±lÄ±r.
print("\nğŸ”¹ Temel Ä°statistikler:")
df.describe(include='all')

"""# 2. AdÄ±m: Veri Ã–niÅŸleme ve Eksik Veri Kontrolleri

Bu adÄ±mda veri setindeki sÃ¼tunlarÄ±n veri tipleri dÃ¼zenlenir, bazÄ± sÃ¼tunlardaki deÄŸerler temizlenir ve eksik veri kontrolÃ¼ yapÄ±lÄ±r.
"""

# 'Depression' sÃ¼tununu integer veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r. Bu iÅŸlem sÃ¼tunun sayÄ±sal iÅŸlemler iÃ§in uygun olmasÄ±nÄ± saÄŸlar.
df['Depression'] = df['Depression'].astype(int)


# Kategorik olarak ele alÄ±nmasÄ± gereken sÃ¼tunlarÄ±n bir listesini tanÄ±mlar.
cat_cols = ['Gender', 'City', 'Profession', 'Degree',
            'Have you ever had suicidal thoughts ?',
            'Family History of Mental Illness']

# YukarÄ±da tanÄ±mlanan sÃ¼tunlarÄ± 'category' veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r. Bu iÅŸlem bellek kullanÄ±mÄ±nÄ± optimize eder ve bazÄ± analizler iÃ§in gereklidir.
for col in cat_cols:
    df[col] = df[col].astype('category')

# Bu sÃ¼tunlardaki benzersiz deÄŸerleri yazdÄ±rÄ±r. Bu iÅŸlem sÃ¼tunlarÄ±n iÃ§eriÄŸini anlamak ve temizlik stratejileri belirlemek iÃ§in Ã¶nemlidir.
print("Unique values in 'Sleep Duration':", df['Sleep Duration'].unique())
print("Unique values in 'Financial Stress':", df['Financial Stress'].unique())

# 'Sleep Duration' sÃ¼tunundaki metinlerden sayÄ±sal saat deÄŸerlerini Ã§Ä±karmak iÃ§in dÃ¼zenli ifadeler kullanÄ±r. Bu iÅŸlem sÃ¼tundaki veriyi analiz edilebilir hale getirir.
def extract_hours(s):
    # Bir sayÄ± bulma (decimal deÄŸerler dahil)
    match = re.search(r"(\d+(\.\d+)?)", str(s))
    return float(match.group(1)) if match else np.nan

df['Sleep Duration'] = df['Sleep Duration'].apply(extract_hours)

# 'Financial Stress' sÃ¼tununu 'category' veri tipine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.
df['Financial Stress'] = df['Financial Stress'].astype('category')

# DeÄŸiÅŸikliklerin doÄŸru yapÄ±ldÄ±ÄŸÄ±nÄ± doÄŸrulamak iÃ§in bu sÃ¼tunlarÄ±n ilk birkaÃ§ satÄ±rÄ±nÄ± yazdÄ±rÄ±r.
print(df[['Sleep Duration', 'Financial Stress']].head())

# Her sÃ¼tundaki eksik deÄŸerlerin sayÄ±sÄ±nÄ± hesaplar.
missing_values = df.isnull().sum()
print("Missing values:\n", missing_values)

# 'Sleep Duration' sÃ¼tunundaki eksik deÄŸerleri sÃ¼tunun medyanÄ± ile doldurur. Medyan, aykÄ±rÄ± deÄŸerlerden etkilenmediÄŸi iÃ§in tercih edilir.
for col in ['Sleep Duration']:
    if df[col].isnull().sum() > 0:
        df[col].fillna(df[col].median(), inplace=True)

"""# AdÄ±m 3: KeÅŸifsel Veri Analizi (EDA)

Bu adÄ±mda veri setindeki deÄŸiÅŸkenlerin daÄŸÄ±lÄ±mlarÄ± ve iliÅŸkileri gÃ¶rselleÅŸtirilir ve analiz edilir.

3.1 Hedef DeÄŸiÅŸkenin Genel DaÄŸÄ±lÄ±mÄ±:
"""

# 'Depression' sÃ¼tunundaki deÄŸerlerin (0 ve 1) sayÄ±sÄ±nÄ± gÃ¶steren bir Ã§ubuk grafik oluÅŸturur. Bu iÅŸlem depresyon durumunun veri setindeki daÄŸÄ±lÄ±mÄ±nÄ± anlamak iÃ§in kullanÄ±lÄ±r.
plt.figure(figsize=(8,5))
sns.countplot(x='Depression', data=df, palette="viridis")
plt.title("Depresyonun Ã–ÄŸrenciler ArasÄ±ndaki DaÄŸÄ±lÄ±mÄ±")
plt.xlabel("Depresyon (0 = HayÄ±r, 1 = Evet)")
plt.ylabel("Miktar")
plt.show()

"""---
# Grafik Analizi: Ã–ÄŸrenci Depresyon DaÄŸÄ±lÄ±mÄ±

Bu Ã§ubuk grafik Ã¶ÄŸrenci grubunda depresyon durumunun daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermektedir (0 = HayÄ±r, 1 = Evet). Depresyon belirtisi gÃ¶stermeyen Ã¶ÄŸrenci sayÄ±sÄ± yaklaÅŸÄ±k 11.500 iken, depresyon belirtisi gÃ¶steren Ã¶ÄŸrenci sayÄ±sÄ± 16.000'i aÅŸmaktadÄ±r.

Bu durum Ã¶ÄŸrencilerin Ã§oÄŸunluÄŸunda depresyon belirtilerinin varlÄ±ÄŸÄ±na iÅŸaret etmektedir. Grafik depresyonun Ã¶nemli bir sorun olduÄŸunu ve daha fazla araÅŸtÄ±rma ile mÃ¼dahale gerektirdiÄŸini gÃ¶stermektedir.


---

# 3.2 Kategorik DeÄŸiÅŸkenlerin Analizi:
---
"""

# Cinsiyet ve depresyon durumu arasÄ±ndaki iliÅŸkiyi gÃ¶steren bir gruplanmÄ±ÅŸ Ã§ubuk grafik oluÅŸturur. Bu iÅŸlem depresyonun cinsiyete gÃ¶re nasÄ±l deÄŸiÅŸtiÄŸini anlamak iÃ§in kullanÄ±lÄ±r.
plt.figure(figsize=(8,5))
sns.countplot(x='Gender', hue='Depression', data=df, palette="Set2")
plt.title("Cinsiyete GÃ¶re Depresyon DaÄŸÄ±lÄ±mÄ±")
plt.xlabel("Cinsiyet")
plt.ylabel("Miktar")
plt.legend(title="Depresyon")
plt.show()

"""---
# Grafik Analizi: Cinsiyete GÃ¶re Depresyon DaÄŸÄ±lÄ±mÄ±

Bu grafik cinsiyete gÃ¶re depresyon durumunu (0 = HayÄ±r, 1 = Evet) gÃ¶stermektedir.

Hem kadÄ±n hem de erkek Ã¶ÄŸrencilerde depresyon gÃ¶sterenlerin sayÄ±sÄ± gÃ¶stermeyenlerden fazladÄ±r. Ancak depresyon gÃ¶steren erkek Ã¶ÄŸrenci sayÄ±sÄ± kadÄ±nlardan daha yÃ¼ksektir. Bu grafik cinsiyetin depresyonla iliÅŸkili olabileceÄŸini dÃ¼ÅŸÃ¼ndÃ¼rmektedir.


---

# 3.3 SayÄ±sal DeÄŸiÅŸkenlerin DaÄŸÄ±lÄ±mÄ±:



---
"""

# Belirtilen sayÄ±sal sÃ¼tunlarÄ±n her biri iÃ§in histogramlar oluÅŸturur. Bu iÅŸlem her bir deÄŸiÅŸkenin daÄŸÄ±lÄ±mÄ±nÄ± anlamak iÃ§in kullanÄ±lÄ±r.
num_features = ['Age', 'Academic Pressure', 'Work Pressure', 'CGPA',
                'Study Satisfaction', 'Job Satisfaction', 'Sleep Duration', 'Work/Study Hours']
df[num_features].hist(bins=20, figsize=(15,10))
plt.tight_layout()
plt.show()

"""---

# Grafik Analizi: SayÄ±sal DeÄŸiÅŸkenlerin DaÄŸÄ±lÄ±mÄ±

Bu grafik seti Ã§eÅŸitli sayÄ±sal deÄŸiÅŸkenlerin daÄŸÄ±lÄ±mlarÄ±nÄ± histogramlar aracÄ±lÄ±ÄŸÄ±yla gÃ¶stermektedir. Her bir histogram belirli bir deÄŸiÅŸkenin veri setindeki frekansÄ±nÄ± veya sÄ±klÄ±ÄŸÄ±nÄ± temsil etmektedir.

- Age (YaÅŸ): YaÅŸ daÄŸÄ±lÄ±mÄ± genellikle 18 ile 25 yaÅŸ aralÄ±ÄŸÄ±nda yoÄŸunlaÅŸmÄ±ÅŸtÄ±r, bu da veri setindeki katÄ±lÄ±mcÄ±larÄ±n Ã§oÄŸunlukla genÃ§ yetiÅŸkin veya Ã¼niversite Ã¶ÄŸrencisi olduÄŸunu gÃ¶stermektedir.

- Academic Pressure (Akademik BaskÄ±): Akademik baskÄ±, 3 ve 5 seviyelerinde yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da Ã¶ÄŸrencilerin orta ve yÃ¼ksek dÃ¼zeyde akademik baskÄ± hissettiÄŸini gÃ¶stermektedir.

- Work Pressure (Ä°ÅŸ BaskÄ±sÄ±): Ä°ÅŸ baskÄ±sÄ± neredeyse tamamen 0 seviyesinde yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da katÄ±lÄ±mcÄ±larÄ±n Ã§oÄŸunun iÅŸ baskÄ±sÄ± yaÅŸamadÄ±ÄŸÄ±nÄ± veya bu baskÄ±nÄ±n Ã§ok dÃ¼ÅŸÃ¼k seviyede olduÄŸunu gÃ¶stermektedir.

- CGPA (Not OrtalamasÄ±): Not ortalamasÄ± daÄŸÄ±lÄ±mÄ±, 7 ile 10 arasÄ±nda nispeten dÃ¼zgÃ¼n bir daÄŸÄ±lÄ±m gÃ¶stermektedir bu da Ã¶ÄŸrencilerin genel olarak iyi bir akademik baÅŸarÄ±ya sahip olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼rmektedir.

- Study Satisfaction (Ã‡alÄ±ÅŸma Memnuniyeti): Ã‡alÄ±ÅŸma memnuniyeti, 3 ve 4 seviyelerinde yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da Ã¶ÄŸrencilerin orta dÃ¼zeyde Ã§alÄ±ÅŸma memnuniyetine sahip olduÄŸunu gÃ¶stermektedir.

- Job Satisfaction (Ä°ÅŸ Tatmini): Ä°ÅŸ tatmini neredeyse tamamen 0 seviyesinde yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da katÄ±lÄ±mcÄ±larÄ±n Ã§oÄŸunun iÅŸ tatmini yaÅŸamadÄ±ÄŸÄ±nÄ± veya bu tatminin Ã§ok dÃ¼ÅŸÃ¼k seviyede olduÄŸunu gÃ¶stermektedir.

- Sleep Duration (Uyku SÃ¼resi): Uyku sÃ¼resi, 5 ve 7 saat civarÄ±nda yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da Ã¶ÄŸrencilerin Ã§oÄŸunun ortalama uyku sÃ¼resine sahip olduÄŸunu gÃ¶stermektedir.

- Work/Study Hours (Ã‡alÄ±ÅŸma/Ders Ã‡alÄ±ÅŸma Saatleri): Ã‡alÄ±ÅŸma/ders Ã§alÄ±ÅŸma saatleri, 10 ile 12 saat arasÄ±nda yoÄŸunlaÅŸmÄ±ÅŸtÄ±r bu da Ã¶ÄŸrencilerin gÃ¼nde uzun saatler Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± veya ders Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶stermektedir.



---

# 3.4 Korelasyon Analizi:


---
"""

# Belirtilen sayÄ±sal sÃ¼tunlar arasÄ±ndaki korelasyon matrisini hesaplar.
plt.figure(figsize=(10,8))
num_cols = ['Age', 'Academic Pressure', 'Work Pressure', 'CGPA',
            'Study Satisfaction', 'Job Satisfaction', 'Sleep Duration', 'Work/Study Hours']
corr_matrix = df[num_cols].corr()

# Korelasyon matrisini bir Ä±sÄ± haritasÄ± olarak gÃ¶rselleÅŸtirir. Bu iÅŸlem deÄŸiÅŸkenler arasÄ±ndaki iliÅŸkilerin gÃ¼cÃ¼nÃ¼ ve yÃ¶nÃ¼nÃ¼ anlamak iÃ§in kullanÄ±lÄ±r.
sns.heatmap(corr_matrix, annot=True, cmap='coolwarm', fmt=".2f")
plt.title("Korelasyon IsÄ± HaritasÄ±")
plt.show()

"""---

# Grafik Analizi: Korelasyon IsÄ± HaritasÄ±

Bu grafik sayÄ±sal deÄŸiÅŸkenler arasÄ±ndaki korelasyonlarÄ± gÃ¶steren bir Ä±sÄ± haritasÄ±dÄ±r.

Korelasyon iki deÄŸiÅŸken arasÄ±ndaki doÄŸrusal iliÅŸkinin gÃ¼cÃ¼nÃ¼ ve yÃ¶nÃ¼nÃ¼ Ã¶lÃ§er.

IsÄ± haritasÄ±nda renkler korelasyon katsayÄ±sÄ±nÄ± temsil eder:

- KÄ±rmÄ±zÄ± tonlarÄ± pozitif korelasyonu (bir deÄŸiÅŸken artarken diÄŸeri de artar)
- Mavi tonlarÄ± negatif korelasyonu (bir deÄŸiÅŸken artarken diÄŸeri azalÄ±r)
- Beyaz tonlarÄ± ise dÃ¼ÅŸÃ¼k veya sÄ±fÄ±r korelasyonu gÃ¶sterir  

SayÄ±lar korelasyon katsayÄ±sÄ±nÄ±n deÄŸerini belirtir.

## GrafiÄŸi incelendiÄŸinde ÅŸu Ã¶nemli noktalar gÃ¶ze Ã§arpmaktadÄ±r:

- YaÅŸ (Age): YaÅŸÄ±n diÄŸer deÄŸiÅŸkenlerle genellikle dÃ¼ÅŸÃ¼k korelasyona sahip olduÄŸu gÃ¶rÃ¼lmektedir. En yÃ¼ksek korelasyon, negatif yÃ¶nde Akademik BaskÄ± (-0.08) ile gÃ¶zlemlenmektedir ancak bu korelasyon da zayÄ±ftÄ±r.

- Akademik BaskÄ± (Academic Pressure): Akademik BaskÄ±'nÄ±n diÄŸer deÄŸiÅŸkenlerle zayÄ±f veya orta dÃ¼zeyde korelasyona sahip olduÄŸu gÃ¶rÃ¼lmektedir. Ã‡alÄ±ÅŸma Saatleri (0.10) ile pozitif bir iliÅŸkisi vardÄ±r bu da akademik baskÄ± arttÄ±kÃ§a Ã§alÄ±ÅŸma saatlerinin de biraz artabileceÄŸini gÃ¶stermektedir.

- Ã‡alÄ±ÅŸma BaskÄ±sÄ± (Work Pressure) ve Ä°ÅŸ Tatmini (Job Satisfaction): Bu iki deÄŸiÅŸken arasÄ±nda gÃ¼Ã§lÃ¼ bir pozitif korelasyon (0.77) bulunmaktadÄ±r. Bu iÅŸ baskÄ±sÄ± arttÄ±kÃ§a iÅŸ tatmininin de arttÄ±ÄŸÄ±nÄ± gÃ¶stermektedir. Ancak Ã¶nceki grafiklerde iÅŸ baskÄ±sÄ±nÄ±n dÃ¼ÅŸÃ¼k seviyede olduÄŸunu hatÄ±rlarsak, bu korelasyonun veri setindeki Ã¶ÄŸrenci olmayan katÄ±lÄ±mcÄ±lar iÃ§in geÃ§erli olabileceÄŸini dÃ¼ÅŸÃ¼nebiliriz.

- CGPA (Not OrtalamasÄ±): CGPA'nÄ±n diÄŸer deÄŸiÅŸkenlerle zayÄ±f korelasyona sahip olduÄŸu gÃ¶rÃ¼lmektedir.

- Ã‡alÄ±ÅŸma Memnuniyeti (Study Satisfaction): Ã‡alÄ±ÅŸma Memnuniyeti'nin diÄŸer deÄŸiÅŸkenlerle zayÄ±f korelasyona sahip olduÄŸu gÃ¶rÃ¼lmektedir.

- Uyku SÃ¼resi (Sleep Duration): Uyku SÃ¼resi'nin diÄŸer deÄŸiÅŸkenlerle zayÄ±f korelasyona sahip olduÄŸu gÃ¶rÃ¼lmektedir.

- Ã‡alÄ±ÅŸma/Ders Ã‡alÄ±ÅŸma Saatleri (Work/Study Hours): Ã‡alÄ±ÅŸma/Ders Ã‡alÄ±ÅŸma Saatleri'nin Akademik BaskÄ± (0.10) ile pozitif bir iliÅŸkisi vardÄ±r ancak bu iliÅŸki de orta dÃ¼zeydedir.

Genel olarak bu Ä±sÄ± haritasÄ± veri setindeki sayÄ±sal deÄŸiÅŸkenler arasÄ±nda gÃ¼Ã§lÃ¼ doÄŸrusal iliÅŸkilerin sÄ±nÄ±rlÄ± olduÄŸunu gÃ¶stermektedir. En dikkat Ã§ekici iliÅŸki Ã‡alÄ±ÅŸma BaskÄ±sÄ± ve Ä°ÅŸ Tatmini arasÄ±ndaki gÃ¼Ã§lÃ¼ pozitif korelasyondur.



---

# 3.5 Plotly ile GeliÅŸmiÅŸ GÃ¶rselleÅŸtirme:



---
"""

# CGPA ve Ã‡alÄ±ÅŸma Memnuniyeti arasÄ±ndaki iliÅŸkiyi gÃ¶steren etkileÅŸimli bir saÃ§Ä±lÄ±m grafiÄŸi oluÅŸturur.
# Depresyon durumuna gÃ¶re renklendirir ve ek bilgiler (yaÅŸ, cinsiyet, akademik baskÄ±) saÄŸlar.

fig = px.scatter(df, x="CGPA", y="Study Satisfaction", color="Depression",
                 hover_data=['Age', 'Gender', 'Academic Pressure'],
                 title="Depresyona GÃ¶re CGPA ve EÄŸitim Memnuniyeti")
fig.show()

"""---

# Grafik Ã–zeti: CGPA ve Ã‡alÄ±ÅŸma Memnuniyeti Ä°liÅŸkisi (Depresyona GÃ¶re)

Bu saÃ§Ä±lÄ±m grafiÄŸi Ã¶ÄŸrencilerin CGPA (Not OrtalamasÄ±) ile Ã‡alÄ±ÅŸma Memnuniyeti arasÄ±ndaki iliÅŸkiyi depresyon durumlarÄ±na gÃ¶re renk kodlamasÄ± kullanarak gÃ¶stermektedir.

Yatay eksen CGPA'yÄ±, dikey eksen Ã‡alÄ±ÅŸma Memnuniyetini temsil etmektedir. Renk skalasÄ± Ã¶ÄŸrencilerin depresyon dÃ¼zeyini (0'dan 1'e kadar) temsil etmektedir; koyu mor depresyonu olmayan Ã¶ÄŸrencileri, sarÄ± ise yÃ¼ksek dÃ¼zeyde depresyonu olan Ã¶ÄŸrencileri gÃ¶stermektedir.

## Grafik incelendiÄŸinde ÅŸu gÃ¶zlemler yapÄ±labilir:

- Ã‡alÄ±ÅŸma Memnuniyeti Seviyeleri: Ã‡alÄ±ÅŸma Memnuniyeti genellikle 0, 1, 2, 3, 4 ve 5 gibi belirli seviyelerde kÃ¼melenmiÅŸtir; yani deÄŸiÅŸken sÃ¼rekli deÄŸil, ayrÄ±k deÄŸerler almaktadÄ±r.

- CGPA DaÄŸÄ±lÄ±mÄ±: CGPA deÄŸerleri geniÅŸ bir aralÄ±kta (yaklaÅŸÄ±k 0'dan 10'a kadar) daÄŸÄ±lmÄ±ÅŸtÄ±r.

- Depresyon ve CGPA: DÃ¼ÅŸÃ¼k CGPA deÄŸerlerinde (0-5 aralÄ±ÄŸÄ±) genellikle depresyonu olmayan Ã¶ÄŸrencilerin (koyu mor renk) yoÄŸunlaÅŸtÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. YÃ¼ksek CGPA deÄŸerlerinde (6-10 aralÄ±ÄŸÄ±) ise hem depresyonu olmayan hem de depresyonu olan (sarÄ±ya yakÄ±n renkler) Ã¶ÄŸrencilerin bulunduÄŸu gÃ¶zlemlenmektedir.

- Depresyon ve Ã‡alÄ±ÅŸma Memnuniyeti: Her Ã§alÄ±ÅŸma memnuniyeti seviyesinde, farklÄ± depresyon dÃ¼zeylerine sahip Ã¶ÄŸrenciler bulunmaktadÄ±r. Ancak genel bir eÄŸilim olarak depresyonun artmasÄ±yla birlikte Ã§alÄ±ÅŸma memnuniyetinin dÃ¼ÅŸÃ¼p dÃ¼ÅŸmediÄŸi net bir ÅŸekilde gÃ¶rÃ¼lememektedir.


SonuÃ§ olarak, bu grafik CGPA ile Ã‡alÄ±ÅŸma Memnuniyeti arasÄ±nda belirgin bir doÄŸrusal iliÅŸki olmadÄ±ÄŸÄ±nÄ± ve depresyonun bu iliÅŸkiyi karmaÅŸÄ±klaÅŸtÄ±rdÄ±ÄŸÄ±nÄ± gÃ¶stermektedir.


---

# AdÄ±m 4: Ä°statistiksel Analiz

Bu adÄ±mda akademik baskÄ± ile depresyon arasÄ±ndaki iliÅŸkiyi istatistiksel olarak test etmek iÃ§in hipotez testleri uygulanÄ±r.


---

# 4.1 Hipotez Testi (Akademik BaskÄ± ve Depresyon)


---
"""

# Veri setini depresyonu olan ve olmayan Ã¶ÄŸrencilere gÃ¶re iki gruba ayÄ±rÄ±r.
group_dep = df[df['Depression'] == 1]['Academic Pressure']
group_non_dep = df[df['Depression'] == 0]['Academic Pressure']

# Her iki grubun boyutunu yazdÄ±rÄ±r. Ä°statistiksel testlerin uygulanabilirliÄŸi iÃ§in grup boyutlarÄ± Ã¶nemlidir.
print("Depresyonda olan grup bÃ¼yÃ¼klÃ¼ÄŸÃ¼:", len(group_dep))
print("Depresyonda olmayan grup bÃ¼yÃ¼klÃ¼ÄŸÃ¼:", len(group_non_dep))

# Her iki grupta da yeterli sayÄ±da gÃ¶zlem varsa (en az 3) testleri uygular.
if len(group_dep) >= 3 and len(group_non_dep) >= 3:
    # Ä°ki baÄŸÄ±msÄ±z grup arasÄ±ndaki ortalama farkÄ± test etmek iÃ§in t-testi uygular.
    t_stat, p_val = stats.ttest_ind(group_dep, group_non_dep)
    print("T-test istatistiÄŸi: {:.3f}, p-value: {:.3f}".format(t_stat, p_val))

    # Ä°ki baÄŸÄ±msÄ±z grup arasÄ±ndaki daÄŸÄ±lÄ±m farkÄ±nÄ± test etmek iÃ§in Mann-Whitney U testini uygular (non-parametrik test).
    u_stat, p_val_u = stats.mannwhitneyu(group_dep, group_non_dep)
    print("Mann-Whitney U test istatistiÄŸi: {:.3f}, p-value: {:.3f}".format(u_stat, p_val_u))
else:
    print("Gruplardan biri istatistiksel test iÃ§in yeterli gÃ¶zlem sayÄ±sÄ±na sahip deÄŸildir.")

"""Test sonuÃ§larÄ± (t-istatistiÄŸi, p-deÄŸeri, U-istatistiÄŸi, p-deÄŸeri) yazdÄ±rÄ±lÄ±r. P-deÄŸeri, hipotezin (gruplar arasÄ±nda fark yok) doÄŸru olma olasÄ±lÄ±ÄŸÄ±nÄ± gÃ¶sterir. DÃ¼ÅŸÃ¼k bir p-deÄŸeri (genellikle < 0.05) hipotezin reddedilmesi gerektiÄŸini gÃ¶sterir.

# AdÄ±m 5: Veri TanÄ±mlayÄ±cÄ±sÄ± Ã‡oÄŸaltma

Bu adÄ±mda yeni Ã¶zellikler oluÅŸturulur ve kategorik deÄŸiÅŸkenler Ã¼retilir.

5.1 BileÅŸik Ã–zellikler OluÅŸturma
Ã–rneÄŸin, Akademik ve Ä°ÅŸ BaskÄ±sÄ±nÄ± â€œToplam BaskÄ±â€ metriÄŸinde birleÅŸtirin.
"""

# 'Academic Pressure' ve 'Work Pressure' sÃ¼tunlarÄ±nÄ± toplayarak 'Total Pressure' adÄ±nda yeni bir sÃ¼tun oluÅŸturur. Bu iÅŸlem toplam baskÄ± dÃ¼zeyini temsil eder.
df['Total Pressure'] = df['Academic Pressure'] + df['Work Pressure']

plt.figure(figsize=(8,5))
sns.boxplot(x='Depression', y='Total Pressure', data=df, palette="coolwarm")
plt.title("Depresyon Durumuna GÃ¶re Toplam BaskÄ±")
plt.xlabel("Depresyon (0 = No, 1 = Yes)")
plt.ylabel("Toplam BaskÄ±")
plt.show()

"""6.2 Kategorik DeÄŸiÅŸkenlerin Ä°Ã§in Encoding

Makine Ã¶ÄŸrenimi iÃ§in sayÄ±sal Ã¶zelliklere ihtiyacÄ±mÄ±z vardÄ±r. SÄ±ralÄ± olmayan kategorik deÄŸiÅŸkenler iÃ§in one-hot kodlamasÄ±nÄ± kullanabiliriz. Basit olmasÄ± iÃ§in burada birkaÃ§ Ã¶nemli Ã¶zelliÄŸi kodlayacaÄŸÄ±z.
"""

# Encoding iÅŸlemi uygulanmasÄ± gereken kategorik sÃ¼tunlarÄ±n bir listesini tanÄ±mlar.
cat_features = ['Gender', 'City', 'Profession', 'Degree',
                'Have you ever had suicidal thoughts ?', 'Family History of Mental Illness', 'Financial Stress']

# Belirtilen kategorik sÃ¼tunlarÄ± one-hot encoding kullanarak sayÄ±sal sÃ¼tunlara dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.
df_encoded = pd.get_dummies(df, columns=cat_features, drop_first=True)

df_encoded.head()